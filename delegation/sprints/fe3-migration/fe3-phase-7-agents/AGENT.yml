pack_version: 3.0
agent_version: 1.0
task_id: "fe3-phase-7-agents"
task_hash: "988e449fe73f229a0863aedaee5db3488b7a2b5a0c079aec17937bb86734efa7"

parent:
  sprint: "fe3-migration"
  phase: "7"
  milestone: "M3-AGENT-03"
  
agent_steps:
  last: "fe3-phase-6-router"
  next: "fe3-phase-7-sse-dashboard"

task:
  title: "Phase 7: Agent System & Postmaster"
  status: "pending"
  priority: "P1"
  estimated_duration: "2 weeks"
  
  objectives:
    - "Implement AgentRegistry and AgentRunner"
    - "Create agent profiles with capabilities"
    - "Implement Postmaster agent for artifact routing"
    - "Implement Content-Addressable Storage (CAS)"
    - "Add sandbox profiles"
  
  deliverables:
    - "Core/Services/AgentRegistry.php"
    - "Core/Services/AgentRunner.php"
    - "Core/Services/PostmasterAgent.php"
    - "Core/Services/ContentAddressableStorage.php"
    - "agents table migration"
    - "30+ tests"

  acceptance_criteria:
    - "âœ… Artifacts routed to CAS"
    - "Agent profiles with capabilities"
    - "Postmaster routes artifacts correctly"
    - "Sandbox profiles limit FS access"
    - "Tests pass"

capabilities:
  allowed_tools: ["fs", "git", "composer", "php-artisan"]

telemetry:
  correlate_ids: true

mcp_tools:
  - id: "fs"
    capability: "read-write"
  - id: "composer"
    capability: "install"
